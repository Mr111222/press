!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@babel/runtime/helpers/interopRequireDefault"),require("lodash/isInteger"),require("lodash/isArray"),require("lodash/isObject"),require("lodash/isEqual"),require("better-scroll")):"function"==typeof define&&define.amd?define(["@babel/runtime/helpers/interopRequireDefault","lodash/isInteger","lodash/isArray","lodash/isObject","lodash/isEqual","better-scroll"],e):"object"==typeof exports?exports["mobi-select"]=e(require("@babel/runtime/helpers/interopRequireDefault"),require("lodash/isInteger"),require("lodash/isArray"),require("lodash/isObject"),require("lodash/isEqual"),require("better-scroll")):t["mobi-select"]=e(t.interopRequireDefault,t.isInteger,t.isArray,t.isObject,t.isEqual,t.BScroll)}(window,function(r,i,n,s,a,o){return c={},l.m=u=[function(t,e,r){"use strict";function i(t,e,r,i,n,s,a,o){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}r.d(e,"a",function(){return i})},function(t,e){t.exports=r},function(t,e,r){"use strict";r.r(e);var i=r(3),n=r.n(i);for(var s in i)"default"!==s&&function(t){r.d(e,t,function(){return i[t]})}(s);e.default=n.a},function(t,e,u){var r,i,n;i=[e,u(14),u(11),u(15),u(16),u(18),u(19)],void 0===(n="function"==typeof(r=function(t,n,i,s,e,r,a){"use strict";var o=u(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=o(n),i=o(i),s=o(s),r=o(r),a=o(a);var l={name:"CbmSelect",components:{layer:r.default,srcoll:a.default},props:{selectDatas:{type:Array,required:!0,validator:function(t){for(var e=0;e<t.length;e++){var r=t[e];if(!(0,n.default)(r))return console.error("the data must be array!"),!1}return!0}},selecteds:{type:Array,validator:function(t){for(var e=0;e<t.length;e++){var r=t[e];if(!(0,i.default)(r)&&!(0,s.default)(r))return console.error("the data must be int or object!"),!1}return!0}},partDatas:Array,title:{type:String,default:""},rowTitle:Array,itemHeight:{type:Number,default:35},itemShowCount:{type:Number,validator:function(t){return-1!==[3,5,7,9].indexOf(t)||(console.error("只能同时展示3、5、7或9行!"),!1)},default:7},headerHeight:{type:Number,default:44},relation:{type:Array},transition:String,isLoading:{type:Boolean,default:!1},closeText:{type:String,default:"取消"},sureText:{type:String,default:"确定"}},computed:{lineHeight:function(){if(35!==this.itemHeight)return this.itemHeight},boxStyles:function(){var t=this.itemHeight*this.itemShowCount+this.headerHeight;return this.rowTitle&&(t+=this.itemHeight),{height:t+"px"}},areaStyles1:function(){var t=Math.floor(this.itemShowCount/2),e=this.headerHeight+this.itemHeight*t;return this.rowTitle&&(e+=this.itemHeight),{top:e+"px"}},areaStyles2:function(){var t=Math.floor(this.itemShowCount/2),e=this.headerHeight+this.itemHeight*(t+1);return this.rowTitle&&(e+=this.itemHeight),{top:e+"px"}},blankRow:function(){return(this.itemShowCount-1)/2}},created:function(){this.innerDatas=this.selectDatas,this.initData()},watch:{partDatas:function(t,e){for(var r=0;r<t.length;r++){var i=t[r];(0,n.default)(i)&&(this.$set(this.innerDatas,r,i),this.$set(this.selectedOrders,r,0))}},selecteds:function(t,e){this.initData()}},data:function(){return{selectedOrders:[],innerDatas:[],complete:!1}},methods:{initData:function(){var t=(0,e.initSelectedDatas)(this.selectDatas,this.selecteds);this.selectedOrders=t.order},getRowStyle:function(t,e){var r=100/this.selectDatas.length,i=e?this.itemHeight*this.itemShowCount:this.itemHeight,n=r*t;return{width:r+"%",left:n+"%",height:i+"px"}},getSelectedData:function(){for(var t=[],e=0;e<this.selectedOrders.length;e++){var r=this.selectedOrders[e];t.push(this.innerDatas[e][r])}return t},change:function(t){var e=t.target,r=t.order;this.selectedOrders[e]=r,this.action("change",e,this.getSelectedData())},cancel:function(){this.action("cancel",null,null),this.complete=!0},submit:function(){this.action("submit",null,this.getSelectedData()),this.complete=!0},action:function(t,e,r){this.$emit("action",{type:t,target:e,data:r})}}};t.default=l})?r.apply(e,i):r)||(t.exports=n)},function(t,e,r){"use strict";r.r(e);var i=r(5),n=r.n(i);for(var s in i)"default"!==s&&function(t){r.d(e,t,function(){return i[t]})}(s);e.default=n.a},function(t,e,r){var i,n,s;n=[e],void 0===(s="function"==typeof(i=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={props:{className:String,container:{type:String,default:""},showAnimate:Boolean,fallback:Function,offsetTop:Number,styles:Object},methods:{stop:function(t){t.stopPropagation()}},data:function(){return{height:100}}};t.default=e})?i.apply(e,n):i)||(t.exports=s)},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r.n(i);for(var s in i)"default"!==s&&function(t){r.d(e,t,function(){return i[t]})}(s);e.default=n.a},function(t,e,n){var r,i,s;i=[e,n(20)],void 0===(s="function"==typeof(r=function(t,e){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=r(e);var i={props:{datas:{type:Array,required:!0},selected:{type:Number,required:!0},blankRow:{type:Number,default:0},lineHeight:Number,styles:Object,target:Number},data:function(){return{slelctedData:{},scrollObj:null}},computed:{liStyles:function(){if(this.lineHeight)return{height:this.lineHeight+"px","line-height":this.lineHeight+"px"}},selectOrder:function(){var t=this.datas.length-1;if(this.selected>t){var e={target:this.target,order:t,value:this.datas[t]};return this.$emit("change",e),this.datas.length-1}return this.selected}},mounted:function(){var t=35;this.lineHeight&&(t=this.lineHeight),this.scrollObj=new e.default(this.$refs.contain,{blankRow:this.blankRow,selected:this.selectOrder,lineHeight:t},this.setValue.bind(this)),window["scroll_"+this.target]=this.scrollObj},updated:function(){this.scrollObj.refresh(),this.scrollObj.scrollTo(this.selectOrder)},methods:{setValue:function(t){var e={target:this.target,order:t,value:this.datas[t]};this.$emit("change",e)}}};t.default=i})?r.apply(e,i):r)||(t.exports=s)},function(t,e,r){"use strict";function i(){var r=this,t=r.$createElement,i=r._self._c||t;return i("transition",{attrs:{name:r.transition}},[r.complete?r._e():i("layer",{style:r.boxStyles},[i("header",{staticClass:"cbm-select-header"},[i("a",{staticClass:"close",on:{click:r.cancel}},[r._v(r._s(r.closeText))]),i("a",{staticClass:"sure",on:{click:r.submit}},[r._v(r._s(r.sureText))]),i("h2",{staticClass:"title"},[r._v(r._s(r.title))])]),r.rowTitle?i("ul",{staticClass:"row-title"},r._l(r.rowTitle,function(t,e){return i("li",{style:r.getRowStyle(e)},[r._v(r._s(t))])}),0):r._e(),i("div",{staticClass:"cbm-select-box"},r._l(r.innerDatas,function(t,e){return i("srcoll",{key:e,attrs:{datas:t,selected:r.selectedOrders[e],styles:r.getRowStyle(e,!0),lineHeight:r.lineHeight,target:e,blankRow:r.blankRow},on:{change:r.change}})}),1),i("hr",{staticClass:"cover-area1",style:r.areaStyles1}),i("hr",{staticClass:"cover-area2",style:r.areaStyles2}),r.isLoading?i("div",{staticClass:"loading-box"},[i("div",{staticClass:"loading"})]):r._e()])],1)}var n=[];i._withStripped=!0,r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})},function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cb-mobile-select",class:t.className,style:t.styles},[r("div",{staticClass:"layer",on:{click:t.stop}},[t._t("default")],2)])}var n=[];i._withStripped=!0,r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})},function(t,e,r){"use strict";function i(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",{ref:"contain",staticClass:"contain",style:r.styles},[i("ul",[r._l([1,2,3,4],function(t){return t<=r.blankRow?i("li",{style:r.liStyles}):r._e()}),r._l(r.datas,function(t,e){return i("li",{style:r.liStyles},[r._v(r._s(t.label))])}),r._l([1,2,3,4],function(t){return t<=r.blankRow?i("li",{style:r.liStyles}):r._e()})],2)])}var n=[];i._withStripped=!0,r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})},function(t,e){t.exports=i},function(t,e,s){var r,i,n;i=[e,s(13)],void 0===(n="function"==typeof(r=function(t,r){"use strict";var e=s(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=e(r)).default.install=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i.installed||e.scoped||t.component(e.name||r.default.name,r.default)},n=r.default;t.default=n})?r.apply(e,i):r)||(t.exports=n)},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(2);for(var s in n)"default"!==s&&function(t){r.d(e,t,function(){return n[t]})}(s);var a=r(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="packages/mobi-select/src/components/mselect.vue",e.default=o.exports},function(t,e){t.exports=n},function(t,e){t.exports=s},function(t,e,r){var i,n,s;n=[e,r(11),r(17)],void 0===(s="function"==typeof(i=function(t,n,s){"use strict";var e=r(1);function o(t,e){var r=0;if(e)r=(0,n.default)(e)?e:function(t,e){for(var r=0,i=0;i<t.length;i++)if((0,s.default)(e,t[i])){r=i;break}return r}(t,e);else for(var i=0;i<t.length;i++)if(t[i].selected){r=i;break}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectedData=o,t.initSelectedDatas=function(t,e){for(var r=[],i=[],n=0;n<t.length;n++){var s=void 0,a=t[n];"function"==typeof a?(s=e?o([],e[n]):o([]),r.push(s),i.push([])):(s=e?o(a,e[n]):o(a),r.push(s),i.push(a[s]))}return{order:r,data:i}},n=e(n),s=e(s)})?i.apply(e,n):i)||(t.exports=s)},function(t,e){t.exports=a},function(t,e,r){"use strict";r.r(e);var i=r(9),n=r(4);for(var s in n)"default"!==s&&function(t){r.d(e,t,function(){return n[t]})}(s);var a=r(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="packages/mobi-select/src/components/layer.vue",e.default=o.exports},function(t,e,r){"use strict";r.r(e);var i=r(10),n=r(6);for(var s in n)"default"!==s&&function(t){r.d(e,t,function(){return n[t]})}(s);var a=r(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="packages/mobi-select/src/components/scroll.vue",e.default=o.exports},function(t,e,i){var r,n,s;n=[e,i(21)],void 0===(s="function"==typeof(r=function(t,c){"use strict";var e=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,c=e(c);var r=function(e,i,n){var s;function a(t){e.querySelector("li:nth-child("+(t+i.blankRow)+")").className="at",1<i.blankRow&&(e.querySelector("li:nth-child("+(t+i.blankRow-1)+")").className="side1",e.querySelector("li:nth-child("+(t+i.blankRow+1)+")").className="side1"),2<i.blankRow&&(e.querySelector("li:nth-child("+(t+i.blankRow-2)+")").className="side2",e.querySelector("li:nth-child("+(t+i.blankRow+2)+")").className="side2")}function o(){Array.prototype.slice.call(e.querySelectorAll("li")).forEach(function(t){t.classList.contains("at")?t.classList.remove("at"):t.classList.contains("side1")?t.classList.remove("side1"):t.classList.contains("side2")&&t.classList.remove("side2")})}function t(){o()}function r(){var t=-this.y/i.lineHeight,e=Math.round(t)+1;o(),a(e)}function l(){var t=-this.y/i.lineHeight,e=1,r=0;e=Math.ceil(t)===Math.round(t)?(r=Math.ceil(t)*i.lineHeight,Math.ceil(t)+1):(r=Math.floor(t)*i.lineHeight,Math.floor(t)+1),s.scrollTo(0,-r,0),o(),a(e),n(e-1)}function u(){var t=-this.y/i.lineHeight,e=1,r=0;e=Math.ceil(t)===Math.round(t)?(r=Math.ceil(t)*i.lineHeight,Math.ceil(t)+1):(r=Math.floor(t)*i.lineHeight,Math.floor(t)+1),s.scrollTo(0,-r,0),o(),a(e),n(e-1)}return a(i.selected+1),(s=new c.default(e,{probeType:2,bounce:!1})).on("scrollStart",t),s.on("scroll",r),s.on("scrollEnd",l),s.on("scrollCancel",u),s.refresh(),s.scrollToElement(":nth-child("+(i.selected+1)+")",0),{refresh:function(){s.refresh()},scrollTo:function(t){o(),a(t+1),s.scrollToElement(":nth-child("+(t+1)+")",0)}}};t.default=r})?r.apply(e,n):r)||(t.exports=s)},function(t,e){t.exports=o}],l.c=c,l.d=function(t,e,r){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(r,i,function(t){return e[t]}.bind(null,i));return r},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l(l.s=12);function l(t){if(c[t])return c[t].exports;var e=c[t]={i:t,l:!1,exports:{}};return u[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}var u,c});